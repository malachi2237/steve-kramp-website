---
import type { LocalImageProps } from "astro:assets";
import { Picture } from "astro:assets";

type Props = LocalImageProps & {
    zIndex?: number;
};

const {
    src,
    alt,
    loading,
    widths,
    fit,
    position,
    layout,
    zIndex,
    priority,
    class: className,
} = Astro.props;

let widthArray: Array<number> = [];

for (let i = 100; i <= 2000; i += 100) {
    widthArray.push(i);
}
---

<Picture
    src={src}
    alt={alt || ""}
    loading={loading || "lazy"}
    formats={["avif", "webp"]}
    layout={layout || "constrained"}
    fit={fit || "cover"}
    widths={widths}
    style={zIndex ? "z-index: " + zIndex : ""}
    class:list={["absolute", className]}
    position={position}
    priority={priority}
/>
